#!/usr/bin/env python3
'''
Date : 1401/12/28
Author : AmirhosseinKhanshabani - @AmirZoyber
Description: Python Serialization is a way of converting an object into a byte stream to store the object or transmit it to memory, a database, or a file. Its main purpose is to save the state of an object in order to be able to recreate it when needed. The process to convert an object into a byte stream is called serialization, and the reverse process is called deserialization.
usage : store the state of an object in order to be able to recreate it when needed. or tramsmite an object to memory, a database, or a file. or transmit a data on a network.
'''

import pickle       # for serialization and deserialization

hackers = {"neut":1,"geohot":100,"neo":1000}

for key, value in hackers.items():   # output the object :
    print(key, value)                   # neut 1
                                        # geohot 100
                                        # neo 1000


# serialize the object
serialised = pickle.dumps(hackers)   
print(serialised)      # b'\x80\x03}q\x00(X\x04\x00\x00\x00neutq\x01K\x01X\x06\x00\x00\x00geohotq\x02KdX\x03\x00\x00\x00neoq\x03K\x03u.'

# deserialize the object
hackers2 = pickle.loads(serialised)
print(hackers2)       # {'neut': 1, 'geohot': 100, 'neo': 1000}

# serialize the object and save it in a file
with open("hackers.pickle", "wb") as f:
    pickle.dump(hackers, f)                     # b'\x80\x03}q\x00(X\x04\x00\x00\x00neutq\x01K\x01X\x06\x00\x00\x00geohotq\x02KdX\x03\x00\x00\x00neoq\x03K\x03u.'

# deserialize the object and read it from a file
with open("hackers.pickle", "rb") as f:
    hacker3 = pickle.load(f)                    # {'neut': 1, 'geohot': 100, 'neo': 1000}   

